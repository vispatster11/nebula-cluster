Thank you for installing the {{ .Chart.Name }} chart.
Your release is named {{ .Release.Name }}.

The full stack (FastAPI, PostgreSQL, Prometheus, Grafana) is being deployed.

---
Security & Quality:

This application is built and tested using a CI/CD pipeline that enforces
security and quality standards. This includes static code analysis, dependency
vulnerability scanning (pip-audit), and container image scanning (Trivy).

---
Accessing Services:

1. Get the application URL by running these commands:
   NOTE: It may take a few minutes for the LoadBalancer IP to be available.
         You can watch the status of by running 'kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include "wiki-chart.fullname" . }}-fastapi'
   export SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include "wiki-chart.fullname" . }}-fastapi -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
   echo "FastAPI URL: http://$SERVICE_IP/"

2. Access Grafana:
   - Via Ingress (if Ingress is enabled and you have an Ingress Controller):
     The Grafana dashboard will be available at `http://<YOUR_INGRESS_IP>/grafana/`.

   - Via Port-Forwarding (for local access):
     kubectl port-forward --namespace {{ .Release.Namespace }} svc/{{ include "wiki-chart.fullname" . }}-grafana 3000:80
     Then open http://localhost:3000 in your browser.

---
Credentials:

PostgreSQL and Grafana credentials are automatically generated if not provided during installation.

To retrieve them, run the following commands:

PostgreSQL Password:
  kubectl get secret --namespace {{ .Release.Namespace }} {{ include "wiki-chart.fullname" . }}-postgres-secret -o jsonpath="{.data.password}" | base64 -d; echo

Grafana Password:
  kubectl get secret --namespace {{ .Release.Namespace }} {{ include "wiki-chart.fullname" . }}-grafana-secret -o jsonpath="{.data.admin-password}" | base64 -d; echo

NOTE: For production, it is highly recommended to set your own passwords via the `values.yaml` file or with `--set` flags during installation, for example:
  --set postgresql.auth.password=YOUR_POSTGRES_PASSWORD
  --set grafana.adminPassword=YOUR_GRAFANA_PASSWORD
